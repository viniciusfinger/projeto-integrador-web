<div class="flex items-center h-screen gray-custom text-white">
  <div class="mt-2 ml-10 relative w-[900px] rounded-2xl overflow-hidden shadow-xl border border-gray-800 bg-gray-800">
    <div class="bg-pink-300 text-white text-sm px-4 py-2 flex items-center space-x-2">
      <div class="w-2 h-2 bg-green-400 rounded-full"></div>
      <span>atendimento automatizado</span>
    </div>
    <div class="bg-gray-700 text-white px-3 py-3 text-sm space-y-3 overflow-y-auto h-[400px]" #messagesContainer>
      <div class="flex justify-start">
        <div class="bg-gray-500 px-3 py-2 rounded-lg max-w-xs">
          Olá! Como posso ajudar você hoje?
        </div>
      </div>
      <div class="flex justify-start">
        <div class="bg-gray-500 px-3 py-2 rounded-lg max-w-xs">
          Estou aqui para te auxiliar.
        </div>
      </div>
      <div class="flex justify-end">
        <div class="bg-gray-600 px-3 py-2 rounded-lg max-w-xs">
          Obrigado pelo atendimento!
        </div>
      </div>
      <div *ngFor="let message of messages; trackBy: trackByMessageId"
        [class]="message.isUser ? 'flex justify-start' : 'flex justify-end'">
        <div [class]="getMessageClasses(message.isUser)">
          {{ message.text }}
          <div class="text-[10px] opacity-70 mt-1">
            {{ message.timestamp | date:'HH:mm' }}
          </div>
        </div>
      </div>
    </div>
    <div class="bg-pink-300 p-2">
      <div class="flex items-center space-x-2">
        <input type="text" [(ngModel)]="newMessage" (keyup.enter)="sendMessage()" (input)="onInputChange()"
          placeholder="Digite sua mensagem..."
          class="flex-1 px-3 py-1.5 text-sm rounded-full border-none outline-none text-black placeholder-gray-500 focus:ring-2 focus:ring-pink-500"
          maxlength="500" #messageInput />
        <button (click)="sendMessage()" [disabled]="!newMessage.trim()" [class]="getButtonClasses()"
          class="p-2 rounded-full transition-colors duration-200">
          <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
            <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z" />
          </svg>
        </button>
      </div>
      <div class="text-right text-xs text-pink-200 mt-1" *ngIf="newMessage.length > 400">
        {{ newMessage.length }}/500
      </div>
    </div>
  </div>
  <div class="absolute top-6 left-6 text-white text-3xl font-extrabold drop-shadow-md">
    Chat
  </div>
  <div class="absolute top-4 right-6 ml-4">
    <img src="images/Logo-Cor.png" alt="Ícone" class="h-10" />
  </div>
</div>
